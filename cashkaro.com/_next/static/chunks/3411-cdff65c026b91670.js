"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3411],{3411:function(e,t,r){r.d(t,{Il:function(){return h},h$:function(){return x},AJ:function(){return v}});var a=r(5893),i=r(1664),c=r.n(i),s=r(7294),d=r(1287),l=r(9774),n=r(8429),o=r(8405),u=r(3275),p=r(9671);let m=e=>{let{dealCardStatus:t,updateDealCardStatus:r,iteration:i="",itemId:c="",productStartDateTime:d="",productEndDateTime:n=""}=e,[o,u]=(0,s.useState)("active"==t),p={id:"".concat(i),day:"",days:"",hour:"",hours:"",minute:"",minutes:"",second:"",seconds:"",hideOnComplete:!0};if("scheduled"==t){let e={...p,date:new Date((0,l.Ro)(new Date(d))),hideOnComplete:!0,class:"",status:"scheduled",callback:()=>{r("active"),u(()=>!0)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{id:"catCSDealItreation_"+i+"_"+c,children:"Coming Soon"}),(0,a.jsx)("ul",{id:"catDealTimer_"+i+"_"+c,className:"dealCardCountDownTimer countdown_deal_card dn",children:(0,a.jsx)("div",{className:"",id:"dealScheduledtimer_".concat(i,"_").concat(c),children:(0,a.jsx)(l.jm,{param:e})})})]})}{let e={...p,date:new Date((0,l.Ro)(new Date(n))),class:"dealCardTimerw dealcard_timer",status:"active",callback:e=>{r("expired"),void 0!=e&&(document.querySelector("#catDealTimer_".concat(i,"_").concat(c))&&(document.querySelector("#catDealTimer_".concat(i,"_").concat(c)).style.display=""),e.remove())},initCallback:e=>{if(e)try{document.querySelector("#sdtimer_"+i).style.display=""}catch(e){console.log(" Error : #sdtimer_"+i)}}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{id:"catDealTimer_"+i+"_"+c,className:"dealCardCountDownTimer countdown_deal_card",children:(0,a.jsx)("div",{className:"dealCardTimerw",id:"sdtimer_".concat(i),children:o&&(0,a.jsx)(l.jm,{param:e})})})})}};var _=r(7041);let h=e=>{var t,r,i,l;let{item:u,cardTypes:_="product",isHomePage:h=!1,itretion:w}=e,k=w,N=null==u?void 0:null===(t=u.attributes)||void 0===t?void 0:t.name,C="";(null===(r=u.attributes)||void 0===r?void 0:r.is_compared)&&u.attributes.compared_sellers_count>=1&&(N=(0,d.UE)(u.attributes.compared_product_name,u.attributes.compared_product_name,u.attributes.name),C=g(u.attributes.facets,""));let P=v(N),{GTMProdcutDataAttr:F}=f(u,N,h),S="";S=u.attributes.is_compared&&"deal"!=_?"/"+P+"/"+u.attributes.compared_CKSID+C:"/"+P+"/"+u.id;let[D,y]=(0,s.useState)("");if("deal"==_){let e=u.attributes,t=(0,d.UE)(e.product_start_datetime,e.product_start_datetime,!1),r=(0,d.UE)(e.product_button_text,e.product_button_text,"GRAB DEAL"),s=(0,d.UE)(e.product_end_datetime,e.product_end_datetime,!1);""===D&&y(x(t,s));let l=null!==(i=e.product_label)&&void 0!==i?i:"",_="",b="/"+P+"/"+u.id;r=r.substring(0,18),"expired"==D&&(_="DealCardBtnDisabled ",b="#");let g=(0,d.UE)(e.image_url,e.image_url,(0,d.wn)());return k+="_".concat(u.id),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"fl fw catdeal_c",id:w,children:[h?(0,a.jsx)("div",{onClick:e=>{j(F),(0,n.h)(e)},className:"ck-clicker catdeal_top","data-href":"/"+P+"/"+u.id,children:(0,a.jsx)(p.default,{id:"imgProductBannerImg"+k+"-"+u.id,src:g,"data-src":g,alt:N,width:"301",height:"160",errSrc:o.wG+"/img/no_product.png"})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c(),{className:"catdeal_top",href:"/"+P+"/"+u.id,children:(0,a.jsx)(p.default,{id:"imgProductBannerImg"+k+"-"+u.id,src:g,"data-src":g,alt:N,width:"301",height:"160",errSrc:o.wG+"/img/no_product.png"})})}),(0,a.jsxs)("div",{className:"catdeal_bottom",children:[("active"==D||"scheduled"==D)&&(0,a.jsx)(m,{dealCardStatus:D,iteration:k,updateDealCardStatus:y,itemId:u.id,productStartDateTime:t,productEndDateTime:s,isHomePage:h}),h?(0,a.jsx)("div",{onClick:e=>{j(F),(0,n.h)(e)},id:"dealBtn_"+k+"_"+u.id,className:"ck-clicker button "+_,"data-href":b,children:r}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c(),{id:"dealBtn_"+k+"_"+u.id,className:_+" button ",href:b,children:r})})]}),(0,a.jsx)("div",{className:"catdeal_logo",children:(0,a.jsx)(p.default,{errSrc:o.wG+"/img/no-image.jpg",src:e.merchant_image_url,width:"50",height:"25",alt:e.merchant_name,title:e.merchant_name,unoptimized:!0})}),l?(0,a.jsx)("span",{id:"lblProductlbl"+k+"-"+u.id,children:l}):""]})})}{let e,t=null!==(l=u.attributes.product_label)&&void 0!==l?l:"",r=(0,d.pT)(u.attributes.card_type,52,87),i=N.substring(0,r);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"fl fw product_c proCard",children:[(0,a.jsx)("div",{className:"fl fw pos product_seller",children:u.attributes.is_compared&&u.attributes.compared_sellers_count>1?h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{onClick:e=>{j(F),(0,n.h)(e)},className:"ck-clicker dy_lk_hide","data-href":S,children:["Price Compared ( ",u.attributes.compared_sellers_count," Sellers )"]})," "]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{onClick:e=>{j(F),(0,n.h)(e)},className:"ck-clicker dy_lk_hide","data-href":S,children:["Price Compared ( ",u.attributes.compared_sellers_count," Sellers )"]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.default,{src:u.attributes.merchant_image_url,errSrc:o.wG+"/img/no-image.jpg",alt:u.attributes.merchant_name,width:"80",height:"40",title:u.attributes.merchant_name,unoptimized:!0})})}),(0,a.jsxs)("div",{className:"fl fw pos product_img",id:"secProductImgOffer"+k+"-"+u.id,children:[h?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{onClick:e=>{j(F),(0,n.h)(e)},className:"ck-clicker dy_lk_hide","data-href":S,children:(0,a.jsx)(p.default,{id:"imgProductBannerImg"+k+"-"+u.id,src:u.attributes.image_url,alt:N,width:"145",height:"145",errSrc:o.wG+"/img/no_product.png"})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{"data-href":S,className:"ck-clicker",onClick:e=>(0,n.h)(e),children:(0,a.jsx)(p.default,{id:"imgProductBannerImg"+k+"-"+u.id,src:u.attributes.image_url,alt:N,width:"145",height:"145",errSrc:o.wG+"/img/no_product.png"})})," "]}),t?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("span",{className:"offer",id:"lblProductlbl".concat(k,"-").concat(u.id),children:[t.toUpperCase(),(0,a.jsx)("i",{className:"arrow_top","aria-hidden":"true"})," ",(0,a.jsx)("i",{className:"arrow_bot","aria-hidden":"true"})," "]})}):""]}),(0,a.jsxs)("div",{className:"fl fw item_detail",children:[""!=u.attributes.brand?(0,a.jsxs)("p",{className:"brand",id:"lblProductBrand"+k+"-"+u.id,children:["Brand: ",(0,a.jsx)("strong",{children:u.attributes.brand})]}):(0,a.jsx)("p",{className:"no_brand",children:"\xa0"}),h?(0,a.jsx)("div",{onClick:e=>{j(F),(0,n.h)(e)},"data-href":S,className:"ck-clicker product_name",title:N,children:i+(N.length>r?"...":"")}):(0,a.jsx)(c(),{href:S,className:"product_name",title:N,children:i+(N.length>r?"...":"")}),(0,a.jsx)("div",{className:"fl fw price_detail",children:(0,a.jsxs)("ul",{className:"fl fw",children:[(e=(0,d.UE)(u.attributes.price.discount_percentage,u.attributes.price.discount_percentage,0),(0,o.cS)(u.attributes.card_type)?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("li",{className:"p_finalprice_wrp fl fw",children:(0,a.jsxs)("p",{className:"fl fw p_finalprice",id:"secProductFinalPrice"+k+"-"+u.id,children:[parseInt(u.attributes.price.original_price)>0&&parseInt(u.attributes.price.discounted_price)>0&&(0,a.jsx)("span",{className:"price_strike",children:parseFloat(u.attributes.price.original_price)>parseFloat(u.attributes.price.discounted_price)?d.Aq.format(Math.ceil(parseInt(u.attributes.price.original_price))):parseFloat(u.attributes.price.original_price)<parseFloat(u.attributes.price.discounted_price)?d.Aq.format(Math.ceil(parseInt(u.attributes.price.discounted_price))):(0,a.jsx)(a.Fragment,{})}),(0,a.jsx)("span",{className:"p_totalprice",children:parseInt(u.attributes.price.discounted_price)>0&&parseFloat(u.attributes.price.discounted_price)<parseFloat(u.attributes.price.original_price)?d.Aq.format(Math.ceil(parseInt(u.attributes.price.discounted_price))):parseFloat(u.attributes.price.original_price)>0?d.Aq.format(Math.ceil(parseInt(u.attributes.price.original_price))):(0,a.jsx)(a.Fragment,{})}),e>0&&(0,a.jsxs)("span",{className:"p_offer_amount",id:"lblProductPercent"+k+"-"+u.id,children:["(",e,"% Off)"]})]})})),(0,a.jsx)("li",{className:"p_cashback_wrp fl fw",children:(0,d.xb)(u.attributes.card_type)&&!(0,d.xb)(u.attributes.category_earn_text)?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:"fl fw p_cashback",id:"secProductCashbackPrice"+k+"-"+u.id,children:u.attributes.category_earn_text})}):parseFloat(u.attributes.price.cashback_amount)>0&&"Coupon only"!=u.attributes.offer_type?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{className:"fl fw p_cashback",id:"secProductCashbackPrice"+k+"-"+u.id,children:["+ ",(0,d.OH)(Math.round(parseFloat(u.attributes.price.cashback_amount)))+" "+u.attributes.cashback_type]})}):(0,a.jsx)("p",{className:"fl fw p_bestprice",id:"secProductCashbackPrice"+k+"-"+u.id,children:"Product at its best price"})}),!(0,d.xb)(u.attributes.card_type)&&u.attributes.card_type&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("li",{className:"final_price fl fw",children:(0,a.jsxs)("p",{className:"fl fw",id:"secProductBestPrice"+k+"-"+u.id,children:["Final Price\xa0",d.Aq.format(Math.round(b(u)))]})})})]})})]})]})})}},b=e=>{let t=0;return parseInt(e.attributes.price.price_aftercashback)>0?t=e.attributes.price.price_aftercashback:(0,d.UE)(e.attributes.price.discounted_price)&&e.attributes.price.discounted_price<e.attributes.price.original_price?t=e.attributes.price.discounted_price:parseInt(e.attributes.price.original_price)>0?t=e.attributes.price.original_price:parseInt(e.attributes.price.discounted_price)>0&&(t=e.attributes.price.discounted_price),t},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(0,d.xb)(e)){let t=[];if("object"==typeof e&&Object.keys(e).forEach(r=>{t.push("ppsfacet["+r+"]="+(0,d.i$)(e[r]))}),!(0,d.xb)(t))return"?"+t.join("&")}return t},f=(e,t,r)=>{var a,i,c,s,d;return{GTMProdcutDataAttr:{productId:(null==e?void 0:null===(a=e.attributes)||void 0===a?void 0:a.is_compared)&&(null==e?void 0:null===(i=e.attributes)||void 0===i?void 0:i.compared_sellers_count)>1?null==e?void 0:null===(c=e.attributes)||void 0===c?void 0:c.compared_CKSID:e.id,productName:t,storeName:(null==e?void 0:null===(s=e.attributes)||void 0===s?void 0:s.merchant_name)||"",storeId:(null==e?void 0:null===(d=e.attributes)||void 0===d?void 0:d.merchant_offer_id)||"",isHome:r}}},x=(e,t)=>{let r=new Date,a=new Date(e).toUTCString(),i=new Date(t).toUTCString(),c=(0,l.U3)(new Date(a),0),s=(0,l.U3)(new Date(i),0);return(0,d.qb)(c)&&(0,d.qb)(s)&&e&&t?c>r&&s>r?"scheduled":c<=r&&s>r?"active":"expired":"normal"},j=e=>{var t,r,a,i,c;let s=(0,o.Tq)(),d=null!==(a=(0,_.getCookie)("X-PPS-Segment"))&&void 0!==a?a:"",l=null===(r=(0,_.getCookie)("X-PPS-Variant"))||void 0===r?void 0:null===(t=r.toString())||void 0===t?void 0:t.split("_"),{productId:n,productName:p,storeName:m,storeId:h,isHome:b}=e;if(!(null==s?void 0:s.isUserLoggedIn)||!b)return;let g={event:"dynamic_product_cta",user_id:s.RID,product_id:n,product_name:p,retailer_name:m,store_ID:h,variant_name:null!==(i=null==l?void 0:l[0])&&void 0!==i?i:"",segment_id:d,page_id:null!==(c=null==l?void 0:l[1])&&void 0!==c?c:""};(0,u.AddGTMEvent)(g)},v=e=>null==e?void 0:e.replace(/[^A-Za-z0-9]+/g," ").replace(/\s+/g," ").toLowerCase().replace(/\s+/g,"-").trim()}}]);